# Another Me v0.1.0 环境变量配置示例
# 复制此文件为 .env 并填入实际值

# ==================== OpenAI 配置 ====================
# OpenAI API Key（必填）
OPENAI_API_KEY=your-openai-api-key-here

# OpenAI API Base URL（可选，默认使用官方）
# OPENAI_API_BASE=https://api.openai.com/v1

# OpenAI 模型配置
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_EMBEDDING_MODEL=text-embedding-ada-002

# ==================== 数据存储路径 ====================
# Faiss 向量索引路径
FAISS_INDEX_PATH=./data/faiss/main.index

# SQLite 元数据库路径
METADATA_DB_PATH=./data/metadata/main.db

# 上传文件存储路径
UPLOADS_DIR=./data/uploads

# ==================== Falkor 图数据库配置 ====================
# 图数据库类型: mock | neo4j | falkordb | memgraph
GRAPH_DB_TYPE=mock

# Neo4j 连接配置（当 GRAPH_DB_TYPE=neo4j 时使用）
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your-neo4j-password

# FalkorDB 连接配置（当 GRAPH_DB_TYPE=falkordb 时使用）
# FALKOR_HOST=localhost
# FALKOR_PORT=6379

# ==================== Backend 服务配置 ====================
# 后端服务端口
BACKEND_PORT=8000

# 后端主机
BACKEND_HOST=0.0.0.0

# 是否开启调试模式
DEBUG=false

# 日志级别: DEBUG | INFO | WARNING | ERROR
LOG_LEVEL=INFO

# ==================== Frontend 配置 ====================
# 前端开发服务器端口
FRONTEND_PORT=5173

# API 基础 URL（前端调用后端）
VITE_API_BASE_URL=http://localhost:8000

# ==================== 数据生命周期配置 ====================
# 热数据保留天数（0-X天存储在 Faiss）
HOT_DATA_DAYS=7

# 温数据保留天数（X-Y天存储在 Faiss）
WARM_DATA_DAYS=30

# 重要性阈值（>= 此值的数据会保留更久）
IMPORTANCE_THRESHOLD=0.7

# ==================== 对话过滤配置 ====================
# 是否启用对话过滤器
ENABLE_CONVERSATION_FILTER=true

# 短消息长度阈值（字符数）
SHORT_MESSAGE_THRESHOLD=10

# 长消息长度阈值（使用 LLM 分类）
LONG_MESSAGE_THRESHOLD=50

# ==================== 性能配置 ====================
# Faiss 索引类型: flat | ivf | hnsw
FAISS_INDEX_TYPE=ivf

# IVF 聚类中心数量
FAISS_NLIST=100

# 检索时探测的聚类数
FAISS_NPROBE=10

# 批量操作大小
BATCH_SIZE=100

# ==================== 安全配置 ====================
# CORS 允许的源（逗号分隔）
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# API 限流配置（每分钟请求数）
RATE_LIMIT_PER_MINUTE=60

# ==================== Docker 部署配置 ====================
# Docker Compose 项目名称
COMPOSE_PROJECT_NAME=another-me

# 时区设置
TZ=Asia/Shanghai

# ==================== 可选功能开关 ====================
# 是否启用 NER 实体提取
ENABLE_NER=false

# NER 模型: spacy | bert
NER_MODEL=spacy

# spaCy 语言模型
SPACY_MODEL=zh_core_web_sm

# 是否启用数据降温定时任务
ENABLE_LIFECYCLE_TASK=false

# 定时任务执行时间（cron 表达式）
LIFECYCLE_CRON=0 3 * * *

# ==================== 开发模式配置 ====================
# 是否启用热重载
HOT_RELOAD=true

# 是否显示详细错误信息
SHOW_DETAIL_ERRORS=true

# ==================== 备注 ====================
# 1. 生产环境请务必修改所有密码和密钥
# 2. OPENAI_API_KEY 是必填项
# 3. 首次运行请执行: python init_mvp.py
# 4. 查看文档: cat ame/README.md
